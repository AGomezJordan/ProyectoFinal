(function(e){function t(t){for(var r,a,s=t[0],c=t[1],u=t[2],l=0,d=[];l<s.length;l++)a=s[l],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);m&&m(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,a=1;a<n.length;a++){var s=n[a];0!==i[s]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},i={app:0},o=[];function s(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-109c144a":"d6273377","chunk-27e1fb5e":"ef5ba812","chunk-4e447ec2":"ab726e55","chunk-633e2167":"c7c1b787","chunk-6ad46b54":"dabbbb92","chunk-8ff4ef5a":"11f7aa9f","chunk-a5962520":"0ecd9a49","chunk-b45e46b2":"e0c681d5","chunk-ca4fdf2c":"dada581a","chunk-d0e38004":"220a18d2","chunk-db13ae38":"e2297c80","chunk-08ce4456":"707253fe","chunk-100d92de":"ad43e055","chunk-6df3dc7c":"42f63b7e","chunk-e1ce7158":"862d3cb2","chunk-e72fe028":"1f8ad8dd"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-109c144a":1,"chunk-27e1fb5e":1,"chunk-4e447ec2":1,"chunk-633e2167":1,"chunk-6ad46b54":1,"chunk-8ff4ef5a":1,"chunk-a5962520":1,"chunk-b45e46b2":1,"chunk-ca4fdf2c":1,"chunk-d0e38004":1,"chunk-db13ae38":1,"chunk-08ce4456":1,"chunk-100d92de":1,"chunk-6df3dc7c":1,"chunk-e1ce7158":1,"chunk-e72fe028":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-109c144a":"4f484521","chunk-27e1fb5e":"eba846f1","chunk-4e447ec2":"23d96b1f","chunk-633e2167":"c850d09e","chunk-6ad46b54":"3783689d","chunk-8ff4ef5a":"fd9bcfe4","chunk-a5962520":"2830a0bc","chunk-b45e46b2":"7a60fb94","chunk-ca4fdf2c":"7f4d1b1c","chunk-d0e38004":"38c889fb","chunk-db13ae38":"e1d6d719","chunk-08ce4456":"7c925bb2","chunk-100d92de":"4c9866be","chunk-6df3dc7c":"db485b27","chunk-e1ce7158":"aff84360","chunk-e72fe028":"7e6e09e4"}[e]+".css",i=c.p+r,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var u=o[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===i))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){u=d[s],l=u.getAttribute("data-href");if(l===r||l===i)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var r=t&&t.target&&t.target.src||i,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete a[e],m.parentNode.removeChild(m),n(o)},m.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(m)})).then((function(){a[e]=0})));var r=i[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,n){r=i[e]=[t,n]}));t.push(r[2]=o);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(m);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",d.name="ChunkLoadError",d.type=r,d.request=a,n[1](d)}i[e]=void 0}};var m=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var m=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-app-bar",{attrs:{color:"primary",dense:"",dark:"",app:"",height:"70"}},[r("v-app-bar-nav-icon",{on:{click:function(t){e.drawer=!e.drawer}}}),r("img",{attrs:{width:"60",src:n("cf05")}}),e.back?r("v-icon",{staticClass:"white--text ml-4",on:{click:function(t){return e.atras()}}},[e._v("mdi-reply")]):e._e(),r("div",{staticClass:"frase"},[r("div",{staticClass:"texto d-none d-sm-none d-md-block"},[null==this.user.tipo?r("span",[e._v("LA NUEVA GENERACIÓN")]):e._e(),null!=this.user.tipo?r("span",[e._v("ADMINISTRACIÓN")]):e._e()])]),r("v-spacer"),null==this.user.tipo?r("v-btn",{attrs:{icon:""},on:{click:function(t){e.mostrar=!e.mostrar}}},[r("v-icon",[e._v("mdi-magnify")])],1):e._e(),e.mostrar?r("v-text-field",{attrs:{"hide-details":""},model:{value:e.buscar,callback:function(t){e.buscar=t},expression:"buscar"}}):e._e()],1),null==this.user.tipo?r("v-navigation-drawer",{attrs:{app:"",dark:"",temporary:"",clipped:"",color:"secondary"},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("v-list",{attrs:{dense:""}},[r("v-list-item-group",{attrs:{"active-class":"success"}},[r("v-list-item-title",{staticClass:"text-center title"},[e._v("MENÚ")]),r("div",{staticClass:"linea"}),r("div",{staticClass:"text-center mb-5"},[r("v-btn",{staticClass:"btn",attrs:{color:"success"},on:{click:function(t){return e.abrirLogin()}}},[e._v("ADMINISTRACIÓN")])],1),r("div",{staticClass:"categorias"},e._l(20,(function(t){return r("v-list-item",{key:t},[r("v-list-item-title",{staticClass:"text-center title ma-4"},[e._v("CATEGORIA "+e._s(t))])],1)})),1)],1)],1)],1):e._e(),r("v-dialog",{attrs:{"max-width":"290",persistent:""},model:{value:this.dialogLogin,callback:function(t){e.$set(this,"dialogLogin",t)},expression:"this.dialogLogin"}},[r("div",{staticClass:"tarjeta"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.login()}}},[r("v-card",{staticClass:"text-center",attrs:{color:"secondary",dark:""}},[r("v-card-text",{staticClass:"headline titulo pt-3 white--text"},[e._v("ADMINISTRACIÓN")]),this.mensajeError?r("v-card-text",{staticClass:"mensaje"},[e._v(e._s(e.mensajeError))]):e._e(),r("v-card-text",[r("v-text-field",{attrs:{counter:10,rules:e.nameRules,label:"Usuario",required:""},model:{value:e.$v.usuario.$model,callback:function(t){e.$set(e.$v.usuario,"$model",t)},expression:"$v.usuario.$model"}}),r("v-text-field",{attrs:{counter:"",rules:e.passRules,label:"Constraseña",type:"password",required:""},model:{value:e.$v.password.$model,callback:function(t){e.$set(e.$v.password,"$model",t)},expression:"$v.password.$model"}})],1),r("v-card-text",{staticClass:"text-center"},[r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-btn",{attrs:{disabled:e.$v.$invalid,color:"success darken-1",type:"submit"}},[e._v(" LOGIN ")])],1),r("v-col",{attrs:{cols:"6"}},[r("v-btn",{attrs:{color:"error darken-1"},on:{click:function(t){return e.cerrarLogin()}}},[e._v(" CANCELAR ")])],1)],1)],1)],1)],1)])]),null!=this.user.tipo?r("v-navigation-drawer",{attrs:{app:"",dark:"",temporary:"",clipped:"",color:"secondary","overlay-color":"#000"},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("v-list",{attrs:{dense:""}},[r("v-list-item-group",{attrs:{"active-class":"success"}},[r("v-list-item-title",{staticClass:"text-center title"},[e._v("MENÚ")]),r("div",{staticClass:"linea"}),r("div",{staticClass:"text-center mb-5"},[r("v-btn",{staticClass:"btn",attrs:{color:"success"},on:{click:function(t){e.dialoga=!0}}},[e._v("CERRAR SESION")])],1),r("MenuUsuario")],1)],1)],1):e._e(),r("v-dialog",{attrs:{"max-width":"290"},model:{value:e.dialoga,callback:function(t){e.dialoga=t},expression:"dialoga"}},[r("div",{staticClass:"tarjeta"},[r("v-card",{staticClass:"text-center",attrs:{color:"secondary",dark:""}},[r("v-card-text",{staticClass:"headline titulo pt-3 white--text"},[e._v(" ¿QUIERES CERRAR LA SESIÓN? ")]),r("v-card-text",{staticClass:"text-center"},[r("v-btn",{attrs:{color:"success darken-1"},on:{click:function(t){return e.logOut()}}},[e._v(" SI ")]),r("v-btn",{attrs:{color:"error darken-1"},on:{click:function(t){e.dialoga=!1}}},[e._v(" NO ")])],1)],1)],1)]),r("v-main",{class:{content:null==this.user.tipo,contentAdmin:null!=this.user.tipo}},[r("RouterView")],1)],1)},i=[],o=n("5530"),s=n("2f62"),c=n("b5ae"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",["administrador"===e.user.tipo?n("v-list-item",{on:{click:function(t){return e.$router.push({name:"Logs"})}}},[n("v-list-item-title",{staticClass:"text-center title ma-4"},[e._v("Logs")])],1):e._e(),n("v-list-item",{on:{click:function(t){return e.$router.push({name:"Administracion"})}}},[n("v-list-item-title",{staticClass:"text-center title ma-4"},[e._v("Home")])],1),"administrador"===e.user.tipo?n("v-list-item",{on:{click:function(t){return e.$router.push({name:"CrearUsuario"})}}},[n("v-list-item-title",{staticClass:"text-center title ma-4"},[e._v("Crear Usuario")])],1):e._e(),"administrador"===e.user.tipo?n("v-list-item",{on:{click:function(t){return e.$router.push({name:"ConsultarUsuario"})}}},[n("v-list-item-title",{staticClass:"text-center title ma-4"},[e._v("Consultar Usuario")])],1):e._e(),n("v-list-item",{on:{click:function(t){return e.$router.push({name:"CrearArticulo"})}}},[n("v-list-item-title",{staticClass:"text-center title ma-4"},[e._v("Crear Artículo")])],1),n("v-list-item",{on:{click:function(t){return e.$router.push({name:"ConsultarArticulos"})}}},[n("v-list-item-title",{staticClass:"text-center title ma-4"},[e._v("Consultar Artículos")])],1),"administrador"===e.user.tipo?n("v-list-item",{on:{click:function(t){return e.$router.push({name:"CrearCategoria"})}}},[n("v-list-item-title",{staticClass:"text-center title ma-4"},[e._v("Crear Categoría")])],1):e._e(),n("v-list-item",{on:{click:function(t){return e.$router.push({name:"CrearNota"})}}},[n("v-list-item-title",{staticClass:"text-center title ma-4"},[e._v("Crear Nota")])],1),n("v-list-item",{on:{click:function(t){return e.$router.push({name:"ConsultarNotas"})}}},[n("v-list-item-title",{staticClass:"text-center title ma-4"},[e._v("Consultar Notas")])],1)],1)},l=[],d={name:"menuUsuario",computed:Object(o["a"])({},Object(s["d"])(["user"]))},m=d,f=n("2877"),h=n("6544"),p=n.n(h),v=n("da13"),b=n("5d23"),g=Object(f["a"])(m,u,l,!1,null,"fbe4332a",null),k=g.exports;p()(g,{VListItem:v["a"],VListItemTitle:b["b"]});var C={name:"App",components:{MenuUsuario:k},data:function(){return{drawer:!1,dialoga:!1,buscar:"",mostrar:!1,usuario:"",password:"",nameRules:[function(e){return!!e||"Usuario requerido"},function(e){return e&&e.length<=10||"Usuario maximo 10 caracteres"}],passRules:[function(e){return!!e||"Contraseña requerida"},function(e){return e&&e.length>=8||"Contraseña minimo 8 caracteres"}]}},validations:{usuario:{required:c["required"],maxLength:Object(c["maxLength"])(10)},password:{required:c["required"],minLength:Object(c["minLength"])(8)}},created:function(){this.setBack(!1)},mounted:function(){this.setBack(!1)},computed:Object(o["a"])({},Object(s["d"])(["back","admin","user","dialogLogin","mensajeError"])),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(s["c"])(["setBack","setAdmin","setDialogLogin"])),Object(s["b"])(["iniciarSesion","cerrarSesion"])),{},{atras:function(){this.$router.go(-1)},login:function(){this.iniciarSesion({usuario:this.$v.usuario.$model,clave:this.$v.password.$model}),this.$v.usuario.$model=null,this.$v.password.$model=null},logOut:function(){this.dialoga=!1,this.cerrarSesion()},abrirLogin:function(){this.setDialogLogin(!0)},cerrarLogin:function(){this.setDialogLogin(!1)}})},A=C,x=(n("6c59"),n("7496")),w=n("40dc"),_=n("5bc1"),y=n("8336"),j=n("b0af"),I=n("99d9"),S=n("62ad"),E=n("169a"),L=n("132d"),$=n("8860"),O=n("1baa"),N=n("f6c4"),U=n("f774"),q=n("0fd9"),D=n("2fa4"),V=n("8654"),R=Object(f["a"])(A,a,i,!1,null,"6da5e9ff",null),M=R.exports;p()(R,{VApp:x["a"],VAppBar:w["a"],VAppBarNavIcon:_["a"],VBtn:y["a"],VCard:j["a"],VCardText:I["b"],VCol:S["a"],VDialog:E["a"],VIcon:L["a"],VList:$["a"],VListItem:v["a"],VListItemGroup:O["a"],VListItemTitle:b["b"],VMain:N["a"],VNavigationDrawer:U["a"],VRow:q["a"],VSpacer:D["a"],VTextField:V["a"]});var T=n("a18c"),P=(n("96cf"),n("1da1")),B=n("81fa"),F=n.n(B),H=n("04e1"),J=n.n(H),G=n("bc3a"),W=n.n(G),z=n("6c27"),K="https://proyectofinallalo.000webhostapp.com/";r["a"].use(s["a"]);var Q=new s["a"].Store({state:{back:!1,user:{usuarioID:localStorage.getItem("usuarioID")||null,tipo:localStorage.getItem("tipo")||null},dialogLogin:!1,mensajeError:""},mutations:{setBack:function(e,t){e.back=t},setDialogLogin:function(e,t){e.dialogLogin=t},setMensajeError:function(e,t){e.mensajeError=t},setAdmin:function(e,t){e.admin=t},setUser:function(e,t){e.user=t},borrarUsuario:function(e){e.user={usuarioID:null,tipo:null}}},actions:{iniciarSesion:function(e,t){return Object(P["a"])(regeneratorRuntime.mark((function n(){var r,a,i,o,s,c,u,l,d,m,f,h,p;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=F.a.jws.JWS,i="Alvaro1234@asdfgh",o={alg:"HS256",typ:"JWT"},s={func:"login",usuario:t.usuario,clave:Object(z["sha256"])(t.clave)},c=a.sign("HS256",o,s,{utf8:i}),u=new FormData,u.append("jwt",c),console.log(c),n.next=11,W.a.post(K+"server/api.php",u);case 11:l=n.sent,d=l.data,d.status?(m=d.token,f=a.verifyJWT(m,{utf8:i},{alg:["HS256"]}),f?(h=J()(m),h.status?h.login?(p=h.data,localStorage.setItem("usuarioID",p.usuarioID),localStorage.setItem("tipo",p.tipo),r("setUser",p),r("setDialogLogin",!1),r("setMensajeError",null),T["a"].push({name:"Administracion"})):r("setMensajeError","Usuario o contraseña incorrectos"):r("setMensajeError","Upss... prueba otra vez")):r("setMensajeError","Upss... prueba otra vez")):r("setMensajeError","Server KO... intentelo de nuevo");case 14:case"end":return n.stop()}}),n)})))()},cerrarSesion:function(e){var t=e.commit;localStorage.removeItem("usuarioID"),localStorage.removeItem("tipo"),t("borrarUsuario"),T["a"].push({name:"Home"})}},modules:{}}),X=n("f309"),Y=n("2e15"),Z=n.n(Y);r["a"].use(X["a"]);var ee=new X["a"]({theme:{options:{customProperties:!0},themes:{light:{primary:"#042533",secondary:"#024059",accent:"#82B1FF",error:"#f44336",info:"#2196F3",success:"#4ebfb4",warning:"#FFC107"}}},lang:{locales:{es:Z.a},current:"es"}}),te=n("1dce"),ne=n.n(te);r["a"].use(ne.a),r["a"].config.productionTip=!1,new r["a"]({router:T["a"],store:Q,vuetify:ee,render:function(e){return e(M)}}).$mount("#app")},"6c59":function(e,t,n){"use strict";var r=n("8cf1"),a=n.n(r);a.a},"8cf1":function(e,t,n){},a18c:function(e,t,n){"use strict";n("45fc"),n("d3b7");var r=n("2b0e"),a=n("8c4f");r["a"].use(a["a"]);var i=[{path:"/",name:"Home",component:function(){return n.e("chunk-e72fe028").then(n.bind(null,"bb51"))}},{path:"/Articulo/:titular",name:"Articulo",component:function(){return n.e("chunk-109c144a").then(n.bind(null,"6abc"))}},{path:"/Administracion",name:"Administracion",component:function(){return n.e("chunk-b45e46b2").then(n.bind(null,"529d"))},meta:{requiresAuth:!0}},{path:"/Administracion/ConsultarUsuario",name:"ConsultarUsuario",component:function(){return n.e("chunk-6ad46b54").then(n.bind(null,"d004"))},meta:{requiresAdmin:!0}},{path:"/Administracion/Usuario/:id",name:"Usuario",component:function(){return n.e("chunk-a5962520").then(n.bind(null,"9c1c"))},meta:{requiresAdmin:!0}},{path:"/Administracion/CrearArticulo",name:"CrearArticulo",component:function(){return Promise.all([n.e("chunk-db13ae38"),n.e("chunk-08ce4456")]).then(n.bind(null,"29ad"))},meta:{requiresAuth:!0}},{path:"/Administracion/CrearUsuario",name:"CrearUsuario",component:function(){return Promise.all([n.e("chunk-db13ae38"),n.e("chunk-100d92de")]).then(n.bind(null,"d559"))},meta:{requiresAdmin:!0}},{path:"/Administracion/ConsultarArticulos",name:"ConsultarArticulos",component:function(){return Promise.all([n.e("chunk-db13ae38"),n.e("chunk-6df3dc7c")]).then(n.bind(null,"1bf8"))},meta:{requiresAuth:!0}},{path:"/Administracion/ValidarArticulos/:id",name:"ValidarArticulos",component:function(){return n.e("chunk-4e447ec2").then(n.bind(null,"5bb5"))},meta:{requiresAuth:!0}},{path:"/Administracion/EditarArticulo/:id",name:"EditarArticulo",component:function(){return Promise.all([n.e("chunk-db13ae38"),n.e("chunk-e1ce7158")]).then(n.bind(null,"3302"))},meta:{requiresAuth:!0}},{path:"/Administracion/CrearCategoria",name:"CrearCategoria",component:function(){return n.e("chunk-633e2167").then(n.bind(null,"49fd"))},meta:{requiresAdmin:!0}},{path:"/Administracion/CrearNota",name:"CrearNota",component:function(){return n.e("chunk-ca4fdf2c").then(n.bind(null,"cb86"))},meta:{requiresAuth:!0}},{path:"/Administracion/Logs",name:"Logs",component:function(){return n.e("chunk-27e1fb5e").then(n.bind(null,"bbae"))},meta:{requiresAdmin:!0}},{path:"/Administracion/ConsultarNotas",name:"ConsultarNotas",component:function(){return n.e("chunk-d0e38004").then(n.bind(null,"a801"))},meta:{requiresAuth:!0}},{path:"/Administracion/notas/:id",name:"Notas",component:function(){return n.e("chunk-8ff4ef5a").then(n.bind(null,"0878"))},meta:{requiresAuth:!0}}],o=new a["a"]({mode:"history",base:"/",routes:i});o.beforeEach((function(e,t,n){var r={usuarioID:localStorage.getItem("usuarioID")||null,tipo:localStorage.getItem("tipo")||null};e.matched.some((function(e){return e.meta.requiresAuth}))?null!==r.usuarioID&&null!==r.tipo?n():n({name:"Home"}):e.matched.some((function(e){return e.meta.requiresAdmin}))?null!==r.usuarioID&&"administrador"===r.tipo?n():n({name:"Administracion"}):n()})),t["a"]=o},cf05:function(e,t,n){e.exports=n.p+"img/logo.708cb8be.png"}});
//# sourceMappingURL=app.01ce2953.js.map