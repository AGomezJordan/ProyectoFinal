{"version":3,"sources":["webpack:///./src/views/HomeFiltrado.vue?a33a","webpack:///./src/views/HomeFiltrado.vue?5460","webpack:///src/views/HomeFiltrado.vue","webpack:///./src/views/HomeFiltrado.vue?6d24","webpack:///./src/views/HomeFiltrado.vue?f1a9"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","movil","attrs","_e","cargando","_l","articulo","name","params","id","HOST","portada","_v","_s","titular","fecha","categoria","staticRenderFns","decoded","status","component","VCard","VCardText","VCol","VRow"],"mappings":"gHAAA,yBAAsiB,EAAG,G,yCCAziB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,cAAcC,MAAM,CAAC,SAASP,EAAIQ,MAAO,YAAaR,EAAIQ,MAAO,aAAcR,EAAIQ,QAAQ,CAACJ,EAAG,YAAY,GAAGA,EAAG,MAAM,CAACE,YAAY,+BAA+BC,MAAM,CAAC,YAAcP,EAAIQ,QAAQ,CAAER,EAAY,SAAEI,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,cAAc,CAACK,MAAM,CAAC,MAAQ,UAAU,OAAS,OAAO,MAAQ,UAAU,GAAGT,EAAIU,KAAOV,EAAIW,SAGqBX,EAAIU,KAHfN,EAAG,QAAQJ,EAAIY,GAAIZ,EAAa,WAAE,SAASa,GAAU,OAAOT,EAAG,QAAQ,CAACK,MAAM,CAAC,KAAO,KAAK,GAAK,IAAI,GAAK,MAAM,CAACL,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,SAAS,CAACE,YAAY,UAAUG,MAAM,CAAC,KAAO,GAAG,GAAK,CAC5qBK,KAAM,WACNC,OACI,CAACC,GAAIH,EAASG,OAAO,CAACZ,EAAG,cAAc,CAACA,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACK,MAAM,CAAC,IAAMT,EAAIiB,KAAK,cAAcJ,EAASK,eAAed,EAAG,cAAc,CAACE,YAAY,kCAAkC,CAACN,EAAImB,GAAG,IAAInB,EAAIoB,GAAGP,EAASQ,SAAS,OAAOjB,EAAG,cAAc,CAACA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACE,YAAY,YAAYG,MAAM,CAAC,KAAO,MAAM,CAACT,EAAImB,GAAGnB,EAAIoB,GAAGP,EAASS,UAAUlB,EAAG,QAAQ,CAACE,YAAY,aAAaG,MAAM,CAAC,KAAO,MAAM,CAACT,EAAImB,GAAGnB,EAAIoB,GAAGP,EAASU,eAAe,IAAI,IAAI,IAAI,QAAO,IAAa,MAC7gBC,EAAkB,G,mJCmEtB,GACEV,KAAM,eACN,KAFF,WAGI,MAAJ,CACM,OAAN,EACM,UAAN,GACM,UAAN,IAGE,WAAF,CAAI,QAAJ,OAAI,YAAJ,QACE,QAVF,WAWA,6FACM,KAAN,UAEI,KAAJ,oBAEE,kBAhBF,SAgBA,OACI,QAAJ,QAGE,QAAF,iCACA,2BADA,IAEI,iBAFJ,WAEM,IAAN,OAAM,OAAN,qDAAQ,IAAR,sBAAQ,OAAR,iFAEA,cACA,cACA,sBAGA,0BACA,GACkB,GAAlB,GACkB,KAAlB,mBACkB,MAAlB,GACkB,MAAlB,GACkB,UAAlB,0BACkB,OAAlB,IAGA,+BAEA,eACA,kBApBA,UAsBA,oCAtBA,QAsBA,EAtBA,OAuBA,SAGA,UAEA,UACA,0CAEA,GACoB,EAApB,OAGwBW,EAAQC,OAEhC,QACwB,EAAxB,iBACwB,EAAxB,aAEwB,EAAxB,aAIsB,EAAtB,kCACsB,EAAtB,eAIoB,EAApB,kCACoB,EAApB,eAIA,iBACoB,EAApB,kBAEoB,EAApB,0CAEA,eA5DA,iDAgEE,SAAF,kBACA,2BC9JiZ,I,6FCQ7YC,EAAY,eACd,EACA5B,EACAyB,GACA,EACA,KACA,WACA,MAIa,aAAAG,EAAiB,QAQhC,IAAkBA,EAAW,CAACC,QAAA,KAAMC,UAAA,OAAUC,OAAA,KAAKC,OAAA,Q","file":"js/chunk-3afcc339.aa2af099.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeFiltrado.vue?vue&type=style&index=0&id=b9ac337c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeFiltrado.vue?vue&type=style&index=0&id=b9ac337c&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"white--text c\"},[_c('div',{staticClass:\"menuLateral\",class:{'d-none':_vm.movil, 'd-sm-none': _vm.movil, 'd-md-block': _vm.movil}},[_c('twitter')],1),_c('div',{staticClass:\"content align-content-center\",class:{'escritorio':!_vm.movil}},[(_vm.cargando)?_c('div',{staticClass:\"loader\"},[_c('ScaleLoader',{attrs:{\"color\":\"#4ebfb4\",\"height\":\"50px\",\"width\":\"8px\"}})],1):_vm._e(),(!_vm.cargando)?_c('v-row',_vm._l((_vm.articulos),function(articulo){return _c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\",\"lg\":\"4\"}},[_c('div',{staticClass:\"articulo\"},[_c('v-card',{staticClass:\"tarjeta\",attrs:{\"dark\":\"\",\"to\":{\n                            name: 'Articulo',\n                            params:\n                                {id: articulo.id}}}},[_c('v-card-text',[_c('div',{staticClass:\"foto\"},[_c('img',{attrs:{\"src\":_vm.HOST+'server/img/'+articulo.portada}})])]),_c('v-card-text',{staticClass:\"text-justify title white--text\"},[_vm._v(\" \"+_vm._s(articulo.titular)+\" \")]),_c('v-card-text',[_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"6\"}},[_vm._v(_vm._s(articulo.fecha))]),_c('v-col',{staticClass:\"text-right\",attrs:{\"cols\":\"6\"}},[_vm._v(_vm._s(articulo.categoria))])],1)],1)],1)],1)])}),1):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template class=\"tem\">\n    <div class=\"white--text c\">\n        <!-- MENU LATERAL DONDE APARECE INFORMACION DE TWITTER ETC (SOLO EN ESCRITORIO) -->\n        <div\n            class=\"menuLateral\"\n           :class=\"{'d-none':movil, 'd-sm-none': movil, 'd-md-block': movil}\"\n        >\n            <twitter></twitter>\n        </div>\n        <!-- CONTENIDO DEL HOME -->\n        <div class=\"content align-content-center\" :class=\"{'escritorio':!movil}\">\n            <!-- LOADER -->\n            <div v-if=\"cargando\" class=\"loader\">\n                <ScaleLoader color=\"#4ebfb4\" height=\"50px\" width=\"8px\"></ScaleLoader>\n            </div>\n\n            <!-- CONTENIDO -->\n            <v-row v-if=\"!cargando\">\n                <!-- ARTICULOS -->\n                <v-col\n                    v-for=\"articulo in articulos\"\n                    cols=\"12\"\n                    md=\"6\"\n                    lg=\"4\"\n                >\n                    <!-- ARTICULO -->\n                    <div class=\"articulo\">\n                        <v-card\n                            class=\"tarjeta\"\n                            dark\n                            :to=\"{\n                                name: 'Articulo',\n                                params:\n                                    {id: articulo.id}}\"\n                        >\n                            <!-- PORTADA -->\n                            <v-card-text>\n                                <div class=\"foto\">\n                                    <img :src=\"HOST+'server/img/'+articulo.portada\">\n                                </div>\n                            </v-card-text>\n\n                            <!-- TITULAR -->\n                            <v-card-text class=\"text-justify title white--text\">\n                                {{articulo.titular}}\n                            </v-card-text>\n\n                            <!-- FECHA Y CATEGORIA-->\n                            <v-card-text>\n                                <v-row>\n                                    <v-col cols=\"6\" class=\"text-left\">{{articulo.fecha}}</v-col>\n                                    <v-col cols=\"6\" class=\"text-right\">{{articulo.categoria}}</v-col>\n                                </v-row>\n                            </v-card-text>\n                        </v-card>\n                    </div>\n                </v-col>\n            </v-row>\n        </div>\n    </div>\n</template>\n\n<script>\nimport KJUR from 'jsrsasign'\nimport decode from 'jwt-decode'\nimport axios from 'axios'\nimport ScaleLoader from 'vue-spinner/src/ScaleLoader'\nimport router from '@/router'\nimport {mapActions, mapState} from 'vuex'\nimport Twitter from \"../components/twitter\";\n\nexport default {\n  name: 'HomeFiltrado',\n    data(){\n      return{\n          movil: false,\n          articulos: {},\n          cargando: false\n      }\n    },\n    components: {Twitter, ScaleLoader},\n    created() {\n        if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {\n            this.movil = true;\n        }\n        this.obtenerArticulos()\n    },\n    beforeRouteUpdate(to, from, next){\n        console.log(to)\n        // this.obtenerArticulos(to.params.categoria)\n    },\n    methods: {\n        ...mapActions(['tweet']),\n        async obtenerArticulos(){\n            //console.log(\"obteniendo articulos \"+this.$route.params.categoria)\n            this.cargando = true;\n            let jws = KJUR.jws.JWS; //Objeto para tratar JWT\n            let secret = \"Alvaro1234@asdfgh\"; // Clave privada\n\n            //crear JWT\n            let header = {alg: \"HS256\", typ: \"JWT\"}; //Cabecera de JWT\n            let data = {\n                    id: '',\n                    func: 'filtrarArticulos',\n                    autor: '',\n                    fecha: '',\n                    categoria: this.$route.params.categoria,\n                    estado: ''\n            };\n\n            let jwt = jws.sign(\"HS256\", header, data, {utf8: secret}); //Firma de JWT\n\n            let formd = new FormData();\n            formd.append(\"jwt\", jwt)\n\n            let response = await axios.post(this.HOST+'server/api.php', formd)\n            let datos = response.data\n\n\n            if (datos.status) {\n                //verify JWT\n                let token = datos.token;\n                let isValid = jws.verifyJWT(token, {utf8: secret}, {alg: [\"HS256\"]})\n\n                if (isValid) { //Valido, decodificamos el jwt\n                    let decoded = decode(token)\n\n                    //Comprobar status\n                    if (decoded.status) { //Datos como los esperabamos\n\n                        if (decoded.data){ //Si hay articulos\n                            this.articulos = decoded.data\n                            this.cargando = false\n                        }else{ //Si no hay artículos\n                            this.cargando = false\n                        }\n\n                    } else { //Datos erroneos\n                        this.mensaje = 'Upss... prueba otra vez'\n                        this.cargando = false\n                    }\n\n                } else { //Si no es valido\n                    this.mensaje = 'Upss... prueba otra vez'\n                    this.cargando = false\n                }\n\n            }else{\n                if (datos.mensaje !== null){\n                    this.mensaje = datos.mensaje;\n                }else{\n                    this.mensaje = 'Server KO... intentelo de nuevo'\n                }\n                this.cargando = false\n            }\n        },\n    },\n    computed:{\n      ...mapState(['HOST'])\n    },\n}\n</script>\n<style scoped>\n  .c{\n      display: flex;\n      height: 100%;\n  }\n  .menuLateral{\n      width: 350px;\n      height: 100%;\n      background-color: rgba(0, 0, 0, 0.50);\n      box-shadow: 10px 0px 31px -2px rgba(0,0,0,0.75);\n      position: fixed;\n  }\n    .content{\n        padding: 2%;\n        width: 100%;\n    }\n    .escritorio{\n        margin-left: 350px;\n    }\n    .articulo{\n        border-radius: 29px 29px 29px 29px;\n        overflow: hidden;\n    }\n      .foto{\n          overflow: hidden;\n          border-radius: 15px 15px 15px 15px;\n      }\n      .foto img{\n          width: 100%;\n          height: 100%;\n      }\n    .tarjeta{\n        background-color: rgba(2, 64, 89, 0.90);\n    }\n    .tarjeta:hover{\n        background-color: rgb(2, 64, 89);\n    }\n    .loader{\n        text-align: center;\n        width: 100%;\n    }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeFiltrado.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeFiltrado.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HomeFiltrado.vue?vue&type=template&id=b9ac337c&scoped=true&class=tem&\"\nimport script from \"./HomeFiltrado.vue?vue&type=script&lang=js&\"\nexport * from \"./HomeFiltrado.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HomeFiltrado.vue?vue&type=style&index=0&id=b9ac337c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b9ac337c\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCard,VCardText,VCol,VRow})\n"],"sourceRoot":""}