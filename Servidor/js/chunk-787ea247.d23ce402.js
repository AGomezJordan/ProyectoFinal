(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-787ea247"],{"3ee9":function(e,o,r){},b968:function(e,o,r){"use strict";var a=r("3ee9"),s=r.n(a);s.a},d559:function(e,o,r){"use strict";r.r(o);var a=function(){var e=this,o=e.$createElement,r=e._self._c||o;return r("div",[r("v-row",[r("v-col",{attrs:{cols:"0",md:"4"}}),r("v-col",{attrs:{cols:"12",md:"4"}},[r("div",{staticClass:"titular text-center"},[e._v("CREAR USUARIO")])]),r("v-col",{attrs:{cols:"0",md:"4"}})],1),e.control&&this.mensaje?r("v-row",{staticClass:"mensaje"},[r("v-col",{attrs:{cols:"0",md:"3"}}),r("v-col",{attrs:{cols:"12",md:"6"}},[e.mensaje&&!e.error?r("v-alert",{staticClass:"alerta",attrs:{type:"success",dismissible:""}},[e._v(" "+e._s(e.mensaje)+" ")]):e._e(),e.mensaje&&e.error?r("v-alert",{staticClass:"alerta",attrs:{type:"error",dismissible:""}},[e._v(" "+e._s(e.mensaje)+" ")]):e._e()],1),r("v-col",{attrs:{cols:"0",md:"3"}})],1):e._e(),r("v-row",[r("v-col",{attrs:{cols:"0",md:"2"}}),r("v-col",{attrs:{cols:"12",md:"8"}},[r("form",[r("v-row",{staticClass:"formulario"},[r("v-col",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("span",{staticClass:"texto"},[e._v(" DATOS DE USUARIO ")]),r("div",{staticClass:"separador"})])],1),r("v-row",[r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-text-field",{attrs:{counter:10,rules:e.usuarioRules,label:"Usuario",color:"success",dark:"",loading:e.cargando},model:{value:e.$v.usuario.$model,callback:function(o){e.$set(e.$v.usuario,"$model",o)},expression:"$v.usuario.$model"}})],1),r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-select",{attrs:{items:e.tipoUsuarios,label:"Tipo",dark:"",color:"success",loading:e.cargando},model:{value:e.$v.tipoUsuario.$model,callback:function(o){e.$set(e.$v.tipoUsuario,"$model",o)},expression:"$v.tipoUsuario.$model"}})],1),r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-text-field",{attrs:{counter:"",rules:e.passwordRules,label:"Contraseña",color:"success",type:"password",dark:"",loading:e.cargando},model:{value:e.$v.password.$model,callback:function(o){e.$set(e.$v.password,"$model",o)},expression:"$v.password.$model"}})],1),r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-text-field",{attrs:{counter:"",rules:e.password2Rules,label:"Confirmar contraseña",color:"success",type:"password",dark:"",loading:e.cargando},model:{value:e.$v.password2.$model,callback:function(o){e.$set(e.$v.password2,"$model",o)},expression:"$v.password2.$model"}})],1)],1),r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("span",{staticClass:"texto"},[e._v(" DATOS PERSONALES ")]),r("div",{staticClass:"separador"})])],1),r("v-row",[r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-text-field",{attrs:{counter:"",rules:e.apellidoRules,label:"Primer apellido",color:"success",dark:"",loading:e.cargando},model:{value:e.$v.apellido.$model,callback:function(o){e.$set(e.$v.apellido,"$model",o)},expression:"$v.apellido.$model"}})],1),r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-text-field",{attrs:{counter:"",rules:e.apellidoRules,label:"Segundo apellido",color:"success",dark:"",loading:e.cargando},model:{value:e.$v.apellido2.$model,callback:function(o){e.$set(e.$v.apellido2,"$model",o)},expression:"$v.apellido2.$model"}})],1),r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-text-field",{attrs:{counter:"",rules:e.nombreRules,label:"Nombre",color:"success",dark:"",loading:e.cargando},model:{value:e.$v.nombre.$model,callback:function(o){e.$set(e.$v.nombre,"$model",o)},expression:"$v.nombre.$model"}})],1),r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-text-field",{attrs:{counter:"",type:"number",rules:e.telefonoRules,label:"Telefono",color:"success",dark:"",loading:e.cargando},model:{value:e.$v.telefono.$model,callback:function(o){e.$set(e.$v.telefono,"$model",o)},expression:"$v.telefono.$model"}})],1)],1),r("v-row",[r("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[e.$v.$invalid?e._e():r("v-btn",{staticClass:"mr-5",attrs:{color:"success",fab:"",small:"",dark:"",disabled:e.cargando},on:{click:function(o){return e.enviar()}}},[r("v-icon",[e._v("mdi-check")])],1),r("v-btn",{staticClass:"ml-5",attrs:{color:"error",fab:"",small:"",dark:""},on:{click:function(o){return e.borrarformulario()}}},[r("v-icon",[e._v("mdi-restart")])],1)],1)],1)],1)],1)],1)]),r("v-col",{attrs:{cols:"0",md:"2"}})],1)],1)},s=[],t=(r("96cf"),r("1da1")),l=r("5530"),n=r("b5ae"),i=r("6c27"),c=r("81fa"),d=r.n(c),u=r("04e1"),m=r.n(u),v=r("bc3a"),p=r.n(v),$=r("2f62"),f=r("a18c"),b={name:"CrearUsuario",data:function(){var e=this;return{control:!0,cargando:!1,usuario:"",password:"",password2:"",tipoUsuarios:["administrador","escritor"],tipoUsuario:"",apellido:"",apellido2:"",nombre:"",telefono:"",mensaje:"",error:"",usuarioRules:[function(e){return!!e||"Usuario Requerido"},function(e){return e&&e.length<=10||"Usuario no puede tener mas de 10 caracteres"}],passwordRules:[function(e){return!!e||"Contraseña Requerida"},function(e){return e&&e.length>=8||"Contraseña no puede tener menos de 8 caracteres"}],password2Rules:[function(e){return!!e||"Confirmación de contraseña requerida"},function(o){return o===e.$v.password.$model||"Las contraseñas no coinciden"}],apellidoRules:[function(e){return!!e||"Apellido requerido"}],nombreRules:[function(e){return!!e||"Nombre requerido"}],telefonoRules:[function(e){return!!e||"Telefono requerido"},function(e){return e.length>=9||"El teléfono tiene que tener 9 números"},function(e){return e.length<=9||"El teléfono tiene que tener 9 números"}]}},validations:{usuario:{required:n["required"],maxLength:Object(n["maxLength"])(10)},password:{required:n["required"],minLength:Object(n["minLength"])(8)},password2:{required:n["required"],sameAs:Object(n["sameAs"])("password")},tipoUsuario:{required:n["required"]},apellido:{required:n["required"]},apellido2:{required:n["required"]},nombre:{required:n["required"]},telefono:{required:n["required"],minLength:Object(n["minLength"])(9),maxLength:Object(n["maxLength"])(9)}},computed:Object(l["a"])({},Object($["d"])(["HOST"])),destroyed:function(){this.mensaje=""},methods:{borrarRules:function(){this.usuarioRules=null,this.passwordRules=null,this.password2Rules=null,this.apellidoRules=null,this.nombreRules=null,this.telefonoRules=null},borrarformulario:function(){this.temp=!1,this.$v.usuario.$model="",this.$v.tipoUsuario.$model="",this.$v.password.$model="",this.$v.password2.$model="",this.$v.apellido.$model="",this.$v.apellido2.$model="",this.$v.nombre.$model="",this.$v.telefono.$model=""},enviar:function(){this.crearUsuario()},crearUsuario:function(){var e=this;return Object(t["a"])(regeneratorRuntime.mark((function o(){var r,a,s,t,l,n,c,u,v,$,b;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return e.cargando=!0,r=d.a.jws.JWS,a="Alvaro1234@asdfgh",s={alg:"HS256",typ:"JWT"},t={id:localStorage.getItem("usuarioID"),func:"crearUsuario",usuario:e.$v.usuario.$model,clave:Object(i["sha256"])(e.$v.password.$model),nombre:e.$v.nombre.$model,ap1:e.$v.apellido.$model,ap2:e.$v.apellido2.$model,tipo:e.$v.tipoUsuario.$model,telefono:e.$v.telefono.$model},l=r.sign("HS256",s,t,{utf8:a}),n=new FormData,n.append("jwt",l),o.next=10,p.a.post(e.HOST+"server/api.php",n);case 10:c=o.sent,u=c.data,u.status?(v=u.token,$=r.verifyJWT(v,{utf8:a},{alg:["HS256"]}),$?(b=m()(v),b.status?b.creado?(window.scroll(0,0),e.error=!1,e.mensaje="* USUARIO CREADO CORRECTAMENTE *",e.cargando=!1,e.borrarRules(),e.borrarformulario(),setTimeout((function(){return e.control=!1}),2e3),setTimeout((function(){return e.mensaje=""}),2e3),setTimeout((function(){return f["a"].push({name:"ConsultarUsuario"})}),3e3)):(e.error=!0,e.mensaje="* EL USUARIO NO HA PODIDO CREARSE *",e.cargando=!1):(e.error=!0,e.mensaje="Upss... prueba otra vez",e.cargando=!1)):(e.error=!0,e.mensaje="Upss... prueba otra vez",e.cargando=!1)):(e.error=!0,null!==u.mensaje?e.mensaje=u.mensaje:e.mensaje="Server KO... intentelo de nuevo",e.cargando=!1);case 13:case"end":return o.stop()}}),o)})))()}}},w=b,g=(r("b968"),r("2877")),h=r("6544"),R=r.n(h),j=r("0798"),x=r("8336"),U=r("62ad"),k=r("132d"),C=r("0fd9"),O=r("b974"),q=r("8654"),S=Object(g["a"])(w,a,s,!1,null,"e9d46a10",null);o["default"]=S.exports;R()(S,{VAlert:j["a"],VBtn:x["a"],VCol:U["a"],VIcon:k["a"],VRow:C["a"],VSelect:O["a"],VTextField:q["a"]})}}]);
//# sourceMappingURL=chunk-787ea247.d23ce402.js.map